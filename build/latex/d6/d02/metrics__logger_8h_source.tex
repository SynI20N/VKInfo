\hypertarget{metrics__logger_8h_source}{}\doxysection{metrics\+\_\+logger.\+h}
\label{metrics__logger_8h_source}\index{/home/leonid/Projects/VKInfo/VKInfoLib/include/metrics\_logger.h@{/home/leonid/Projects/VKInfo/VKInfoLib/include/metrics\_logger.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef METRICS\_LOGGER\_H\_}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define METRICS\_LOGGER\_H\_}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}metrics\_registry.h"{}}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{keyword}{namespace }VkInfo \{}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{class }VKINFO\_API \mbox{\hyperlink{classVkInfo_1_1MetricsLogger}{MetricsLogger}} \{}
\DoxyCodeLine{13 \textcolor{keyword}{public}:}
\DoxyCodeLine{14     \mbox{\hyperlink{classVkInfo_1_1MetricsLogger}{MetricsLogger}}(\mbox{\hyperlink{classVkInfo_1_1MetricsRegistry}{MetricsRegistry}}\& registry, \textcolor{keyword}{const} std::string\& filename, std::chrono::milliseconds interval);}
\DoxyCodeLine{15     \mbox{\hyperlink{classVkInfo_1_1MetricsLogger}{\string~MetricsLogger}}();}
\DoxyCodeLine{16 }
\DoxyCodeLine{17     \textcolor{keywordtype}{void} start();}
\DoxyCodeLine{18     \textcolor{keywordtype}{void} stop();}
\DoxyCodeLine{19     std::vector<std::shared\_ptr<IMetric>> get\_all\_metrics();}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{keyword}{private}:}
\DoxyCodeLine{22     \mbox{\hyperlink{classVkInfo_1_1MetricsRegistry}{MetricsRegistry}}\& registry\_;}
\DoxyCodeLine{23     std::string filename\_;}
\DoxyCodeLine{24     std::chrono::milliseconds interval\_;}
\DoxyCodeLine{25     std::atomic<bool> running\_;}
\DoxyCodeLine{26     std::thread worker\_;}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{keywordtype}{void} run();}
\DoxyCodeLine{29     std::string get\_current\_timestamp() \textcolor{keyword}{const};}
\DoxyCodeLine{30 \};}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \} \textcolor{comment}{// namespace VkInfo}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// METRICS\_LOGGER\_H\_}}

\end{DoxyCode}
