\hypertarget{metrics__logger_8h_source}{}\doxysection{metrics\+\_\+logger.\+h}
\label{metrics__logger_8h_source}\index{/home/leonid/Projects/VKInfo/VKInfoLib/include/metrics\_logger.h@{/home/leonid/Projects/VKInfo/VKInfoLib/include/metrics\_logger.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef METRICS\_LOGGER\_H\_}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define METRICS\_LOGGER\_H\_}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}metrics\_registry.h"{}}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{keyword}{namespace }VkInfo \{}
\DoxyCodeLine{11 }
\DoxyCodeLine{19 \textcolor{keyword}{class }VKINFO\_API \mbox{\hyperlink{classVkInfo_1_1MetricsLogger}{MetricsLogger}} \{}
\DoxyCodeLine{20 \textcolor{keyword}{public}:}
\DoxyCodeLine{28     \mbox{\hyperlink{classVkInfo_1_1MetricsLogger}{MetricsLogger}}(\mbox{\hyperlink{classVkInfo_1_1MetricsRegistry}{MetricsRegistry}}\& registry, \textcolor{keyword}{const} std::string\& filename, std::chrono::milliseconds interval);}
\DoxyCodeLine{29 }
\DoxyCodeLine{35     \mbox{\hyperlink{classVkInfo_1_1MetricsLogger}{\string~MetricsLogger}}();}
\DoxyCodeLine{36 }
\DoxyCodeLine{42     \textcolor{keywordtype}{void} start();}
\DoxyCodeLine{43 }
\DoxyCodeLine{47     \textcolor{keywordtype}{void} stop();}
\DoxyCodeLine{48 }
\DoxyCodeLine{54     std::vector<std::shared\_ptr<IMetric>> get\_all\_metrics();}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{keyword}{private}:}
\DoxyCodeLine{57     \mbox{\hyperlink{classVkInfo_1_1MetricsRegistry}{MetricsRegistry}}\& registry\_;                 }
\DoxyCodeLine{58     std::string filename\_;                      }
\DoxyCodeLine{59     std::chrono::milliseconds interval\_;        }
\DoxyCodeLine{60     std::atomic<bool> running\_;                 }
\DoxyCodeLine{61     std::thread worker\_;                        }
\DoxyCodeLine{62 }
\DoxyCodeLine{68     \textcolor{keywordtype}{void} run();}
\DoxyCodeLine{69 }
\DoxyCodeLine{75     std::string get\_current\_timestamp() \textcolor{keyword}{const};}
\DoxyCodeLine{76 \};}
\DoxyCodeLine{77 }
\DoxyCodeLine{78 \} \textcolor{comment}{// namespace VkInfo}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// METRICS\_LOGGER\_H\_}}

\end{DoxyCode}
